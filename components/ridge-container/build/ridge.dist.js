(()=>{var e,t,i={253:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i,n,l,o=e[1]||"",r=e[3];if(!r)return o;if(t&&"function"==typeof btoa){var s=(i=r,n=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(l," */")),a=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[o].concat(a).concat([s]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,n){"string"==typeof e&&(e=[[null,e,""]]);var l={};if(n)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(l[r]=!0)}for(var s=0;s<e.length;s++){var a=[].concat(e[s]);n&&l[a[0]]||(i&&(a[2]?a[2]="".concat(i," and ").concat(a[2]):a[2]=i),t.push(a))}},t}},688:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(253),l=i.n(n)()(!1);l.push([e.id,".switch-container {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n    box-sizing: border-box;\r\n}\r\n\r\n\r\n.switch-container .content-wrapper {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0\r\n}\r\n\r\n.switch-container .content-wrapper .state-content {\r\n    position: absolute;\r\n}",""]);const o=l},401:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(253),l=i.n(n)()(!1);l.push([e.id,".drop-shadow { \r\n  border-radius: var(--semi-border-radius-medium);\r\n  border: 2px dashed var(--semi-color-primary);\r\n  background-color: rgba(255, 255, 255, .1);\r\n  color: var(--semi-color-primary-hover);\r\n  /* display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  z-index: 999;\r\n  left: 0;\r\n  top: 0;\r\n  font-size: 12px;\r\n  opacity: .85; */\r\n}\r\n\r\n.full-shadow {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  z-index: 999;\r\n  left: 0;\r\n  top: 0;\r\n  font-size: 12px;\r\n  opacity: .85;\r\n}\r\n\r\n.full-shadow .drop-tag {\r\n  position: absolute;\r\n  background-color: var(--semi-color-primary-hover);\r\n  color: var(--semi-color-primary-light-default);\r\n  border-radius: 0 0 0 3px;\r\n  right: 0;\r\n  top: 0;\r\n  padding: 5px;\r\n}",""]);const o=l},194:(e,t,i)=>{var n=i(591),l=i(688);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.id,l,""]]);n(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},699:(e,t,i)=>{var n=i(591),l=i(401);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.id,l,""]]);n(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},591:(e,t,i)=>{"use strict";var n,l=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),o=[];function r(e){for(var t=-1,i=0;i<o.length;i++)if(o[i].identifier===e){t=i;break}return t}function s(e,t){for(var i={},n=[],l=0;l<e.length;l++){var s=e[l],a=t.base?s[0]+t.base:s[0],h=i[a]||0,d="".concat(a," ").concat(h);i[a]=h+1;var c=r(d),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==c?(o[c].references++,o[c].updater(p)):o.push({identifier:d,updater:f(p,t),references:1}),n.push(d)}return n}function a(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var o=i.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var r=l(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var h,d=(h=[],function(e,t){return h[e]=t,h.filter(Boolean).join("\n")});function c(e,t,i,n){var l=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=d(t,l);else{var o=document.createTextNode(l),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function p(e,t,i){var n=i.css,l=i.media,o=i.sourceMap;if(l?e.setAttribute("media",l):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var u=null,g=0;function f(e,t){var i,n,l;if(t.singleton){var o=g++;i=u||(u=a(t)),n=c.bind(null,i,o,!1),l=c.bind(null,i,o,!0)}else i=a(t),n=p.bind(null,i,t),l=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else l()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var i=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<i.length;n++){var l=r(i[n]);o[l].references--}for(var a=s(e,t),h=0;h<i.length;h++){var d=r(i[h]);0===o[d].references&&(o[d].updater(),o.splice(d,1))}i=a}}}},677:e=>{e.exports=function(){return this.React}()},538:e=>{e.exports=function(){return this.RidgeCore}()},585:e=>{e.exports=function(){return this.createDebug}()}},n={};function l(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={id:e,exports:{}};return i[e](o,o.exports,l),o.exports}l.m=i,l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var i in t)l.o(t,i)&&!l.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((t,i)=>(l.f[i](e,t),t)),[])),l.u=e=>e+".ridge.dist.js",l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="ridge-container:",l.l=(i,n,o,r)=>{if(e[i])e[i].push(n);else{var s,a;if(void 0!==o)for(var h=document.getElementsByTagName("script"),d=0;d<h.length;d++){var c=h[d];if(c.getAttribute("src")==i||c.getAttribute("data-webpack")==t+o){s=c;break}}s||(a=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.setAttribute("data-webpack",t+o),s.src=i),e[i]=[n];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(u);var l=e[i];if(delete e[i],s.parentNode&&s.parentNode.removeChild(s),l&&l.forEach((e=>e(n))),t)return t(n)},u=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),a&&document.head.appendChild(s)}},l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;l.g.importScripts&&(e=l.g.location+"");var t=l.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");if(i.length)for(var n=i.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=i[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=e})(),(()=>{var e={792:0};l.f.j=(t,i)=>{var n=l.o(e,t)?e[t]:void 0;if(0!==n)if(n)i.push(n[2]);else{var o=new Promise(((i,l)=>n=e[t]=[i,l]));i.push(n[2]=o);var r=l.p+l.u(t),s=new Error;l.l(r,(i=>{if(l.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",s.name="ChunkLoadError",s.type=o,s.request=r,n[1](s)}}),"chunk-"+t,t)}};var t=(t,i)=>{var n,o,[r,s,a]=i,h=0;if(r.some((t=>0!==e[t]))){for(n in s)l.o(s,n)&&(l.m[n]=s[n]);a&&a(l)}for(t&&t(i);h<r.length;h++)o=r[h],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0},i=globalThis.webpackChunkridge_container=globalThis.webpackChunkridge_container||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),l.nc=void 0;var o={};(()=>{"use strict";l.r(o),l.d(o,{composite:()=>e,flex:()=>s,flow:()=>a,html:()=>h,layers:()=>d,list:()=>u,relative:()=>g});const e={name:"composite",component:class{constructor(e){this.props=e}getRidge(){return window.ridge??this.props.ridge}async mount(e){this.el=e,this.containerEl=document.createElement("div"),e.appendChild(this.containerEl),this.updateContainerStyle(),this.loadMountComposite()}async loadMountComposite(){const e=this.getRidge(),{packageName:t,pagePath:i,__composite:n,...l}=this.props;if(this.containerEl.composite&&this.containerEl.composite.unmount(),i){const o=await e.createComposite(t||n.packageName,i,l);o&&(await o.initialize(),await o.mount(this.containerEl),this.containerEl.composite=o,this.el.composite=o)}}updateContainerStyle(){const{classList:e}=this.props;this.containerEl.className=[...e||[],"ridge-composite"].join(" ")}update(e){this.props.packageName!==e.packageName||this.props.pagePath!==e.pagePath?(Object.assign(this.props,e),this.loadMountComposite()):this.el.composite&&(Object.assign(this.props,e),this.el.composite.setProperties(this.props)),this.updateContainerStyle()}},title:"子页面",icon:"icons/composite.svg",type:"vanilla",width:520,height:400,props:[{name:"packageName",label:"应用名称",type:"string",value:""},{name:"pagePath",label:"页面路径",type:"string",value:""},{name:"classList",label:"样式",type:"style",value:[]}],events:[]};l(699);class t{constructor(e){this.props=e,this.forceUpdateChildren=!0}mounted(){}updated(){}onChildRemoved(){}onChildAppended(){}childListUpdated(){}getContainerStyle(){}getChildStyle(e){}async mountChildNode(e,t){await e.mount(t)}async mount(e){this.el=e,this.containerEl=document.createElement("div");for(const e of this.props.classNames??[])this.containerEl.classList.add(e);if(e.appendChild(this.containerEl),this.isRuntime=!this.props.__isEdit,this.isEditor=this.props.__isEdit,Object.assign(this.containerEl.style,{},this.getContainerStyle()),this.containerEl.className=(this.props.classList||[]).join(" "),this.children=this.props.children,this.children){const e=[];for(const t of this.children)try{const i=document.createElement("div");this.containerEl.appendChild(i),this.updateChildStyle(t,i),e.push(this.mountChildNode(t,i))}catch(e){}await Promise.allSettled(e)}await this.mounted()}unmountChildren(){for(const e of this.children)e.unmount()}checkNodeOrder(e){return-1}appendChild(e,{x:t,y:i},n){const l=this.containerEl.querySelector('[shadow-for="'+e.getId()+'"]'),o=e.el;l?this.containerEl.replaceChild(o,l):(this.el.querySelector(":scope > .drop-shadow")&&this.el.removeChild(this.el.querySelector(":scope > .drop-shadow")),n>-1&&this.containerEl.childNodes[n]?this.containerEl.insertBefore(o,this.containerEl.childNodes[n]):this.containerEl.appendChild(o)),this.onChildAppended(e,{x:t,y:i}),this.updateChildStyle(e)}updateChildList(e){for(const t of e)this.containerEl.appendChild(t.el),this.updateChildStyle(t);this.children=e,this.childListUpdated()}isDroppable(){return!0}onDragOver(e){let t=null;if(e&&(t=this.containerEl.querySelector('[shadow-for="'+e.getId()+'"]')),t&&(this.isIntersect(e.el.getBoundingClientRect(),t.getBoundingClientRect())||(this.containerEl.removeChild(t),t=null)),t||(t=this.el.querySelector(":scope > .drop-shadow")),null==t){const e=document.createElement("div");e.classList.add("drop-shadow"),e.classList.add("full-shadow"),e.innerHTML="可以放入容器内",this.el.appendChild(e),this.el.style.position||(this.el.style.position="relative")}}isIntersect(e,t){return!(e.x+e.width<t.x||e.x>t.x+t.width||e.y+e.height<t.y||e.y>t.y+t.height)}onDragOut(e){this.el.querySelector(":scope > .drop-shadow")&&this.el.removeChild(this.el.querySelector(":scope > .drop-shadow")),this.containerEl.querySelector(":scope > .drop-shadow")&&this.containerEl.removeChild(this.containerEl.querySelector(":scope > .drop-shadow")),"relative"===this.el.style.position&&(this.el.style.position="")}removeChild(e){e.el.parentElement===this.containerEl&&this.containerEl.removeChild(e.el),this.onChildRemoved(e)}updateChildStyle(e,t){const i=t||e.el;if(i){const n=Object.assign({},this.getChildStyle(e,t));Object.assign(i.style,n)}}getChildren(){return this.children}getChildElements(){return Array.from(this.containerEl.childNodes).filter((e=>e.ridgeNode))}update(e){if(Object.assign(this.props,e),Object.assign(this.containerEl.style,this.getContainerStyle()),this.containerEl.className=(this.props.classList||[]).join(" "),this.forceUpdateChildren)for(const e of this.children)e.forceUpdate();this.updated()}getResetStyle(){return{position:"",top:"",left:"",transform:"",width:"",height:""}}}const i=(e="boolean",t="布尔",i=!0,n=!0)=>({name:e,label:t,type:"boolean",width:"50%",connect:n,value:i}),n=(e="classList",t="样式")=>({name:e,label:t,type:"style",connect:!0,value:[]}),r={name:"children",hidden:!0,type:"children"},s={name:"flex-container",component:class extends t{getContainerStyle(){const{direction:e="row",alignItems:t="stretch",gap:i=0,padding:n,flexWrap:l,justify:o="flex-start",rectStyle:r}=this.props,s={width:"100%",height:"100%",display:"flex",flexDirection:e,flexWrap:l?"wrap":"no-wrap",justifyContent:o,alignItems:t,boxSizing:"border-box",padding:n+"px",gap:i+"px"};return Object.assign(s,r),s}checkNodeOrder(e){const t=e.x+e.width/2,i=e.y+e.height/2,n=this.containerEl.childNodes,{direction:l="row"}=this.props;if("row"===l)for(let e=0;e<n.length;e++){const i=n[e].getBoundingClientRect();if(i.x+i.width/2>t)return e}else if("column"===l)for(let e=0;e<n.length;e++){const t=n[e].getBoundingClientRect();if(t.y+t.height/2>i)return e}return-1}childSelected(e){const t=e.config.style;t.flex||t.autoSize||("row"===this.props.direction&&0!==e.el.offsetWidth?(e.el.style.width=e.el.offsetWidth+"px",e.config.style.width=e.el.offsetWidth):0!==e.el.offsetHeight&&(e.el.style.height=e.el.offsetHeight+"px",e.config.style.height=e.el.offsetHeight))}getChildStyle(e){const t=this.getResetStyle(),i=e.config.style;return i.visible?t.display="":t.display="none",i.flex?(t.flex=i.flex,t.overflow="hidden"):(t.flex="",i.autoSize||("row"===this.props.direction?t.width=i.width?i.width+"px":"":t.height=i.height?i.height+"px":"")),"stretch"!==this.props.alignItems&&("row"===this.props.direction?t.height=i.height?i.height+"px":"":"column"===this.props.direction&&(t.width=i.width?i.width+"px":"")),t}},title:"弹性容器",type:"vanilla",icon:"icons/flex.svg",props:[{name:"direction",label:"排列方向",type:"string",control:"radiogroup",optionList:[{label:"横向",value:"row"},{label:"纵向",value:"column"}],value:"row"},{name:"justify",label:"排列对齐",type:"string",control:"radiogroup",optionList:[{label:"开始",value:"flex-start"},{label:"正中",value:"center"},{label:"结束",value:"flex-end"},{label:"两边",value:"space-between"},{label:"均匀",value:"space-evenly"}],value:"flex-start"},{name:"alignItems",label:"交叉对齐",type:"string",control:"radiogroup",optionList:[{label:"起点",value:"flex-start"},{label:"正中",value:"center"},{label:"填充",value:"stretch"},{label:"终点",value:"flex-end"}],value:"flex-start"},i("flexWrap","换行",!1),i("fill","填满区域",!1),{name:"children",hidden:!0,type:"children"},{label:"间隔",name:"gap",width:"50%",type:"number",value:8},{label:"内间距",name:"padding",width:"50%",type:"number",value:8},n()],childProps:[{label:"宽度",width:"50%",control:"number",field:"style.width",fieldEx:"styleEx.width"},{label:"高度",width:"50%",control:"number",field:"style.height",fieldEx:"styleEx.height"},{label:"自动宽高",width:"50%",control:"boolean",field:"style.autoSize"},{field:"style.visible",label:"可见",type:"boolean",fieldEx:"styleEx.visible",width:"50%"},{field:"style.flex",label:"弹性",type:"string",width:"50%"}],fullScreenable:!0,width:360,height:240},a={name:"flow-container",component:class extends t{checkNodeOrder(e){const t=e.x+e.width/2,i=e.y+e.height/2,n=this.containerEl.childNodes;let l=-1;for(let e=n.length-1;e>=0;e--){const o=n[e].getBoundingClientRect(),r=o.x+o.width/2,s=o.y+o.height/2;r>t&&s>i&&(l=e)}return l}getContainerStyle(){return{width:"100%"}}getChildStyle(e){const t=this.getResetStyle();return e.config.style.block?(t.display="block",t.width="100%",t.height=e.config.style.height+"px"):(t.display="inline-block",t.width=e.config.style.width+"px",t.height=e.config.style.height+"px"),t}},title:"流式容器",type:"vanilla",order:3,icon:"icons/flow.svg",props:[r,n()],childProps:[{field:"style.width",label:"宽度",type:"number",width:"50%"},{field:"style.height",label:"高度",type:"number",width:"50%"},{field:"style.block",label:"块级",type:"boolean",width:"50%"}],width:800,height:600},h={name:"html",component:class{constructor(e){this.props=e}mount(e){this.el=e,this.render()}update(e){this.props=e,this.render()}render(){const{html:e,classNames:t=[]}=this.props;this.el.innerHTML=e??"",this.el.className=t.join(" ")}},icon:"icons/html.svg",title:"网页代码",type:"vanilla",order:20,width:260,height:160,props:[{name:"html",type:"string",label:"HTML",connect:!0,value:"<div>HTML</div>"},{name:"isCenter",type:"boolean",label:"正中",value:!0},{name:"classNames",label:"样式",type:"style",value:[]}]};l(194);const d={name:"switch-container",component:class extends t{async mounted(){this.containerEl.classList.add("switch-container"),this.forceUpdateChildren=!1,await this.toggleState()}async toggleState(e){const{current:t}=this.props,i=this.containerEl.children;if(i.length>0){let n=null==t?this.containerEl.children[0].getAttribute("ridge-title"):t;null!=e&&(n=e),this.containerEl.querySelector('[toggle-on="1"]');for(let e=0;e<i.length;e++)n===i[e].getAttribute("ridge-title")||t===e?(i[e].style.display="",i[e].setAttribute("toggle-on",!0),"mounted"!==i[e].getAttribute("ridge-mount")&&i[e].ridgeNode.mount(i[e])):(i[e].removeAttribute("toggle-on"),i[e].style.display="none")}}async mountChildNode(e,t){const{preload:i}=this.props;i||this.isEditor?await e.mount(t):(t.setAttribute("ridge-title",e.config.title),t.ridgeNode=e)}childSelected(e){this.toggleState(e.getConfig().title)}onChildRemoved(){this.toggleState()}onChildAppended(e){const t=this.getChildElements();this.toggleState(t.indexOf(e.el))}updated(){this.toggleState(),this.containerEl.classList.add("switch-container")}getChildStyle(e){const t=this.getResetStyle();return t.width="100%",t.height="100%",t.position="absolute",t.left=0,t.top=0,t}onStyleUpdated(){this.containerEl.style.position="relative"}},title:"切换容器",type:"vanilla",icon:"icons/layers.svg",props:[{name:"current",label:"当前内容",connect:!0,type:"string",value:""},i("preload","预加载",!0),n(),r],fullScreenable:!0,width:540,height:360};var c=l(585);const p=l.n(c)()("container:list"),u={name:"list-container",component:class{constructor(e){this.props=e}mount(e){this.el=e,this.scrollerEl=document.createElement("div"),this.containerEl=document.createElement("div"),this.scrollerEl.style.width="100%",this.scrollerEl.style.height="100%",e.appendChild(this.scrollerEl),this.scrollerEl.appendChild(this.containerEl),this.renderUpdate()}updateChildStyle(){this.props.template&&this.props.template.el&&(this.props.template.el.style.width=this.props.template.config.style.width+"px",this.props.template.el.style.height=this.props.template.config.style.height+"px")}update(e){this.props=e,this.renderUpdate()}renderUpdate(){const{classNames:e}=this.props;this.scrollerEl.className=e.join(" "),Object.assign(this.containerEl.style,this.getContainerStyle()),Object.assign(this.scrollerEl.style,this.getScrollerStyle()),this.props.__isEdit?this.renderUpdateSlots():this.renderListItems()}renderUpdateSlots(e){if(e)e.template!==this.props.template&&this.containerEl.append(e.template.el);else if(this.props.template)if(null==this.props.template.el){const e=document.createElement("div");this.containerEl.append(e),this.props.template.mount(e)}else this.containerEl.append(this.props.template.el)}getScrollerStyle(){const{layout:e,padding:t}=this.props;return"list"===e||"flex"===e||"grid"===e?{boxSizing:"border-box",padding:t+"px",overflow:"hidden auto"}:"line"===e?{boxSizing:"border-box",padding:t+"px",overflow:"auto hidden"}:void 0}getContainerStyle(){const{gap:e,layout:t}=this.props,i={gap:e+"px",display:"flex",padding:0};return"list"===t&&(i.width="100%",i.flexDirection="column"),"line"===t&&(i.height="100%",i.width="fit-content",i.flexDirection="row"),"flex"===t&&(i.width="100%",i.flexDirection="row",i.flexWrap="wrap"),"grid"===t&&(i.width="100%",i.height="100%",i.flexDirection="row",i.flexWrap="wrap"),i}async renderListItems(){if(!this.props.template)return;const{dataSource:e,fixed:t,layout:i,gap:n,padding:l,rows:o,columns:r,template:s,fixedHeight:a,fixedWidth:h,onItemClick:d,selected:c,itemClassNames:u=[],selectedClassNames:g=[]}=this.props;if(p("renderListItems",e),await s.load(!0),null==this.items&&(this.items=[]),Array.isArray(e)){for(let l=0;l<e.length;l++){const s=e[l];if(null==this.items[l]){const p=document.createElement("div"),u=this.props.template.clone();u.setScopedData({i:l,list:e,item:s,selected:c}),u.mount(p),this.items[l]=u;const g={position:"",top:"",left:"",transform:"",width:"auto",height:"auto"};"list"===i&&a&&(g.height=u.config.style.height+"px"),"line"===i&&h&&(g.width=u.config.style.width+"px"),"flex"===i&&t&&(g.height=u.config.style.height+"px",g.width=u.config.style.width+"px"),"grid"===i&&(g.height=`calc((100% - ${n*(o-1)}px) / ${o})`,g.width=`calc((100% - ${n*(r-1)}px) / ${r})`),Object.assign(p.style,g),this.containerEl.appendChild(p),p.onclick=()=>{d&&d(l,s)}}else this.items[l].setScopedData({i:l,list:e,item:s,selected:c}),this.items[l].forceUpdate(),this.items[l].el.onclick=()=>{d&&d(l,s)}}for(p("renderListItems Finsished",e);this.items.length>e.length;){const t=this.items.pop();p("remove ",t,e);const i=t.el;t.unmount(),i&&i.parentElement===this.containerEl&&this.containerEl.removeChild(i)}}else if(this.items.length){for(const e of this.items){const t=e.el;e.unmount(),t&&t.parentElement===this.containerEl&&this.containerEl.removeChild(t)}this.items=[]}for(let e=0;e<this.containerEl.children.length;e++){const t=Array.from(this.containerEl.children[e].classList);null!=c&&(Array.isArray(c)&&c.includes(e)||e===c)?this.containerEl.children[e].className=Array.from(new Set([...t,...u,...g])).join(" "):this.containerEl.children[e].className=Array.from(new Set([...t.filter((e=>!g.includes(e))),...u])).join(" ")}}getChildStyle(e){const t=this.getResetStyle(),i=e.config.style;return t.width=i.width?i.width+"px":"",t.height=i.height?i.height+"px":"",t}},title:"列表容器",icon:"icons/list.svg",type:"vanilla",props:[{name:"dataSource",label:"数据",type:"array",connect:!0,control:"json",value:[]},{name:"selected",label:"选中项",type:"array",connect:!0,control:"json",value:[]},{name:"template",label:"单项模板",resizable:!0,type:"slot"},{label:"间隔",name:"gap",width:"50%",type:"number",value:4},{label:"内边距",name:"padding",width:"50%",type:"number",value:4},{name:"layout",label:"模式",type:"string",control:"select",options:[{label:"纵向排列",value:"list"},{label:"单行排列",value:"line"},{label:"多行排列",value:"flex"},{label:"栅格排列",value:"grid"}],value:"list"},{name:"fixedHeight",label:"固定高度",hidden:({props:e})=>e&&"list"!==e.layout,type:"boolean",value:!0},{name:"fixedWidth",label:"固定宽度",hidden:({props:e})=>e&&"line"!==e.layout,type:"boolean",value:!0},{name:"fixed",label:"固定宽高",hidden:({props:e})=>e&&"flex"!==e.layout,type:"boolean",value:!0},{name:"columns",hidden:({props:e})=>e&&"grid"!==e.layout,label:"列数",type:"number",value:3},{name:"rows",hidden:({props:e})=>e&&"grid"!==e.layout,label:"行数",type:"number",value:3},{name:"classNames",label:"整体样式",type:"style",value:[]},{name:"itemClassNames",label:"单项样式",type:"style",value:[]},{name:"selectedClassNames",label:"选中样式",type:"style",value:[]}],childProps:[{label:"W",width:"50%",control:"number",field:"style.width",fieldEx:"styleEx.width"},{label:"H",width:"50%",control:"number",field:"style.height",fieldEx:"styleEx.height"}],events:[{name:"onItemClick",label:"单项点击"}],width:420,height:360},g={name:"relative-container",component:class extends t{getContainerStyle(){const{overflow:e}=this.props,t={width:"100%",height:"100%",boxSizing:"border-box",position:"relative"};return e&&(t.overflow="hidden"),t}onChildAppended(e,{x:t,y:i}){e.updateConfig({style:{x:t,y:i,width:e.config.style.width,height:e.config.style.height}},!0)}onChildRemoved(e){}getChildStyle(e){const{width:t,height:i}=this.props,n=this.getResetStyle(),l=e.config.style;return this.isRuntime?(n.position="absolute",l.align?(l.align.indexOf("left")>-1&&(n.left=l.x+"px"),l.align.indexOf("right")>-1&&t&&(n.right=t-l.x-l.width+"px"),l.align.indexOf("top")>-1&&(n.top=l.y+"px"),l.align.indexOf("bottom")>-1&&i&&(n.bottom=i-l.y-l.height+"px")):(n.position="absolute",n.top=l.y+"px",n.left=l.x+"px",n.width=l.width+"px",n.height=l.height+"px"),n.zIndex=function(e){return e&&e.parentNode?Array.from(e.parentNode.children).indexOf(e):-1}(e.el)+10):(n.position="absolute",n.top=l.y+"px",n.left=l.x+"px",n.width=l.width+"px",n.height=l.height+"px"),n}},title:"自由容器",type:"vanilla",icon:"icons/free.svg",props:[r,i("overflow","超出隐藏",!0),n()],childProps:[{label:"距左",type:"number",field:"style.x"},{label:"距上",type:"number",field:"style.y"},{label:"宽度",type:"number",field:"style.width"},{label:"高度",type:"number",field:"style.height"},{label:"位置",field:"style.align",type:"array",control:"select",multiple:!0,options:[{label:"靠左",value:"left"},{label:"靠右",value:"right"},{label:"靠上",value:"top"},{label:"靠下",value:"bottom"}],value:["left","top"]}],fullScreenable:!0,width:540,height:360}})(),this["ridge-container"]=o})();